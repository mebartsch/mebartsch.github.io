<!DOCTYPE html>
<html lang="en-us">
 <head>
    <meta charset="UTF-8">
    <title>Mebartsch.GitHub.io by mebartsch</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
	 
<script>
  function nextStep() {  
   //arguments: 0.current-cell id, 1.next-cell id, 2.expected value, 3.next message
   var nowbox = document.getElementById(arguments[0]);
   var nextbox = document.getElementById(arguments[1]);
   var expected = arguments[2];
   var nextmsg = arguments[3];
   var msgbox = document.getElementById("message");
	  
   if (nowbox.value == expected) {
    nowbox.style.background = "white";
    nextbox.style.background = "yellow";
    nextbox.focus();
    msgbox.value = nextmsg;
    //spans that require red/black transition have class name = current-cell id
    var cols = document.getElementsByClassName(arguments[0]);
     for(i=0; i<cols.length; i++) {
      cols[i].style.color = 'black';
     }
   } 
   else if(nowbox.value == expected+9) {
    nowbox.style.background = "red"; 
    msgbox.value = "Remember to cast out the nines";
    //spans that require red/black transition have class name = current-cell id
    var cols = document.getElementsByClassName(arguments[0]);
     for(i=0; i<cols.length; i++) {
      cols[i].style.color = 'red';
     }
   }  
   else{
    nowbox.style.background = "red"; 
    msgbox.value = "Try Again";
   }}
   function EndFunction() {
    document.getElementById('box4-2').style.background = "yellow";
    document.getElementById("img1").style.visibility = "visible"
   }
</script>
	 
</head>

<style>
 input {
  margin-left:5vw;
  text-align:center;
  font-size:5vw;
 }
 label {
  display: inline-block;
  width: 18vw;
  text-align: right;
  font-size:5vw;
 }
.smallbox{width:1.2em}
.largebox{width:1.8em}	
 #messageBox {
  font-size:2.5vw;
  width:70%;
  text-align:center;
  background:yellow;
 }
 #answerBox {
  width:2.55em;
  background:yellow;
 }
#img1{
  width:22vw;
  vertical-align:top; 
  visibility:hidden;
}
</style>

<body style="background-color:cyan">

  <form>
	  
   <div style="margin-top:5em">                     <!-- line 1 -->
    <label for="box1-1">1343</label>
    <input class="largebox" type="text" id="box1-1" onkeyup="setTimeout(function() { nextStep('box1-1','box1-2',11,'Add the digits of the number you just entered'); }, 200);"/>
    <input class="smallbox" type="text" id="box1-2" onkeyup="setTimeout(function() { nextStep('box1-2','box2-1',2,'Add the digits of the second number'); }, 200);"/>
   </div>

   <div style="margin-top:0.8em">                     <!-- line 2 -->
    <label for="box2-1"><span class="box2-1">9</span>32</label>
    <input class="largebox" type="text" id="box2-1" onkeyup="setTimeout(function() { nextStep('box2-1','box2-2',5,'Add the digits of the number you just entered'); }, 200);"/>
    <input class="smallbox type="text" id="box2-2" onkeyup="setTimeout(function() { nextStep('box2-2','box3-1',5,'Add the digits of the third number'); }, 200);"/>
    <input class="largebox" type="text" id="box2-3" onkeyup="setTimeout(function() { nextStep('box2-3','box2-4',13,'Add the digits of the number you just entered'); }, 200);"/>
    <input class="smallbox" type="text" id="box2-4" onkeyup="setTimeout(function() { nextStep('box2-4','box4-1',4,'Add the digits for your answer'); }, 200);"/>
   </div>
  <div style="display:inline-block">  
   <div style="margin-top:0.8em">                     <!-- line 3 -->
    <label for="box3-1"><u> + 15<span class="box3-1">36</span> </u> </label>
    <input class="largebox" type="text" id="box3-1" onkeyup="setTimeout(function() { nextStep('box3-1','box3-2',6,'Add the digits of the number you just entered'); }, 200);"/>
    <input class="smallbox type="text" id="box3-2" onkeyup="setTimeout(function() { nextStep('box3-2','box2-3',6,'Add the digits of all 3 lines'); }, 200);"/>
   </div>

   <div style="margin-top:2em">                    <!-- line 4 (answer) -->
    <input id="answerBox" type="text" id="mySum" onkeyup="setTimeout(function() { nextStep('mySum','box1-1',3811,'Add the digits for the first number'); }, 2000);"  />
    <input class="largebox" type="text" id="box4-1" onkeyup="setTimeout(function() { nextStep('box4-1','box4-2',4,'Add the digits of the number you just entered'); }, 200);"/>
    <input class="smallbox type="text" id="box4-2" onkeyup="setTimeout(function() { nextStep('box4-2','box2-4',4,'Do the values match?'),EndFunction(); }, 200)";/>
   </div>
 </div>	
 <img id="img1" src="https://cloud.githubusercontent.com/assets/24393098/23970522/4a2f4c84-0987-11e7-9bcc-1ae3f8dba1d7.gif" alt="Arrow">
   <div style="margin-top:2em">                    <!-- message box -->
    <input id="messageBox" type="text" value="Enter the sum of the 3 numbers" id="message"/>
   </div>
</form>
        <footer class="site-footer">
	</footer>
	  
  </body>
</html>
